# NAS ì˜¤í¼ì›” Unity SDK ë° ì˜ˆì œ
NAS ì˜¤í¼ì›” Unitìš© SDK ë° ì˜ˆì œë¥¼ ì œê³µí•©ë‹ˆë‹¤.

## ëª©ì°¨
- [ğŸ”—â €ë‹¤ë¥¸ í”Œë ›í¼ SDK](#-ë‹¤ë¥¸-í”Œë ›í¼-sdk)
- [ğŸ“â €ì—…ë°ì´íŠ¸](#-ì—…ë°ì´íŠ¸)
    - [iOS ì—…ë°ì´íŠ¸](#ios-ì—…ë°ì´íŠ¸)
    - [Android ì—…ë°ì´íŠ¸](#android-ì—…ë°ì´íŠ¸)
- [ğŸ“¦â €íŒŒì¼](#-íŒŒì¼)
- [ğŸ‘¤ï¸â €ê°œë°œì/ë§¤ì²´ ë“±ë¡](#%EF%B8%8F-ê°œë°œì-ë§¤ì²´-ë“±ë¡)
- [ğŸš€â €SDK ì—°ë™](#-sdk-ì—°ë™)
    - [ë¼ì´ë¸ŒëŸ¬ë¦¬ ì¶”ê°€](#ë¼ì´ë¸ŒëŸ¬ë¦¬-ì¶”ê°€)
    - [AndroidManifest.xml ì„¤ì •](#androidmanifestxml-ì„¤ì •)
    - [ì´ˆê¸°í™”](#ì´ˆê¸°í™”)
    - [íŒì—… ì˜¤í¼ì›” ë„ìš°ê¸°](#íŒì—…-ì˜¤í¼ì›”-ë„ìš°ê¸°)
    - [ì„ë² ë“œ ì˜¤í¼ì›” ì‚½ì…](#ì„ë² ë“œ-ì˜¤í¼ì›”-ì‚½ì…)
    - [ì ë¦½ê¸ˆ ì¡°íšŒ](#ì ë¦½ê¸ˆ-ì¡°íšŒ-nas-ì„œë²„ì—ì„œ-ì ë¦½ê¸ˆ-ê´€ë¦¬-ì‹œ-ì‚¬ìš©) _(NAS ì„œë²„ì—ì„œ ì ë¦½ê¸ˆ ê´€ë¦¬ ì‹œ ì‚¬ìš©)_
    - [ì ë¦½ê¸ˆ ì‚¬ìš© (ì•„ì´í…œ êµ¬ë§¤)](#ì ë¦½ê¸ˆ-ì‚¬ìš©-ì•„ì´í…œ-êµ¬ë§¤-nas-ì„œë²„ì—ì„œ-ì ë¦½ê¸ˆ-ê´€ë¦¬-ì‹œ-ì‚¬ìš©) _(NAS ì„œë²„ì—ì„œ ì ë¦½ê¸ˆ ê´€ë¦¬ ì‹œ ì‚¬ìš©)_
- [ğŸ²â €ì˜ˆì œ ì ìš© ë°©ë²•](#-ì˜ˆì œ-ì ìš©-ë°©ë²•)

## ğŸ”— ë‹¤ë¥¸ í”Œë ›í¼ SDK
- [`iOS SDK`](https://github.com/mafin-global/nas-offerwall-ios)
- [`Android SDK`](https://github.com/mafin-global/nas-offerwall-android)

## ğŸ“ ì—…ë°ì´íŠ¸

### `iOS ì—…ë°ì´íŠ¸`
- [`2020ë…„ 3ì›” 31ì¼`](https://github.com/mafin-global/nas-offerwall-ios/blob/master/docs/Update.md#2020ë…„-3ì›”-31ì¼)
    - í†µì‹  ê´€ë ¨ ë²„ê·¸ ìˆ˜ì •
- [`2020ë…„ 1ì›” 30ì¼`](https://github.com/mafin-global/nas-offerwall-ios/blob/master/docs/Update.md#2020ë…„-1ì›”-30ì¼---ë‚´ì¥-ui) - _ë‚´ì¥ UI_
    - foreground ì‹œ ìƒˆë¡œê³ ì¹¨ë˜ì§€ ì•ŠëŠ” ë²„ê·¸ ìˆ˜ì •
- [`2020ë…„ 1ì›” 28ì¼`](https://github.com/mafin-global/nas-offerwall-ios/blob/master/docs/Update.md#2020ë…„-1ì›”-28ì¼---ë‚´ì¥-ui) - _ë‚´ì¥ UI_
    - í™˜ê²½ì— ë”°ë¼ ì˜¤í¼ì›”ì´ ë³´ì´ì§€ ì•ŠëŠ” í˜„ìƒ ìˆ˜ì •
- [ì „ì²´ ì—…ë°ì´íŠ¸ ëª©ë¡ ë³´ê¸°](https://github.com/mafin-global/nas-offerwall-ios/blob/master/docs/Update.md)

### `Android ì—…ë°ì´íŠ¸`
- [`2020ë…„ 6ì›” 26ì¼`](https://github.com/mafin-global/nas-offerwall-android/blob/master/docs/Update.md#2020ë…„-6ì›”-26ì¼)
    - í…ŒìŠ¤íŠ¸ ëª¨ë“œì™€ ê´€ë ¨ëœ ë²„ê·¸ ìˆ˜ì •
- [`2019ë…„ 10ì›” 14ì¼`](https://github.com/mafin-global/nas-offerwall-android/blob/master/docs/Update.md#2019ë…„-10ì›”-14ì¼)
    - Android Q(10) ëŒ€ì‘ ë²„ê·¸ ìˆ˜ì •
- [`2019ë…„ 9ì›” 19ì¼`](https://github.com/mafin-global/nas-offerwall-android/blob/master/docs/Update.md#2019ë…„-9ì›”-19ì¼)
    - Android Q(10) ëŒ€ì‘
    - ì´ˆê¸°í™” ì™„ë£Œ ì´ë²¤íŠ¸ ì¶”ê°€ (NASWall.setOnInitListener)
- [`ì „ì²´ ì—…ë°ì´íŠ¸ ëª©ë¡ ë³´ê¸°`](https://github.com/mafin-global/nas-offerwall-android/blob/master/docs/Update.md)

## ğŸ“¦ íŒŒì¼
- [`/sdk`](sdk) : ìµœì¢… ë¦´ë¦¬ì¦ˆ SDK íŒŒì¼
    - [`NASWall_Unity_xxxxxxxx..unitypackage`](sdk/NASWall_Unity_20191014.unitypackage) : SDK ë¼ì´ë¸ŒëŸ¬ë¦¬ íŒŒì¼

## ğŸ‘¤ï¸ ê°œë°œì/ë§¤ì²´ ë“±ë¡
[ì˜¤í¼ì›” ì ìš© ê°€ì´ë“œ ë¬¸ì„œ](https://github.com/mafin-global/nas-offerwall#%EF%B8%8F-%EA%B0%9C%EB%B0%9C%EC%9E%90-%EB%93%B1%EB%A1%9D) ë¥¼ ì°¸ê³ í•´ì£¼ì„¸ìš”.

## ğŸš€ SDK ì—°ë™

í”„ë¡œì íŠ¸ì— `/sdk/NASWall_Unity.unitypackage` íŒŒì¼ì„ `Import` í•©ë‹ˆë‹¤.

### `Android ì„¤ì •`
- Proguard ì„¤ì •
    > NAS SDK ì—ëŠ” ì´ë¯¸ Proguardê°€ ì ìš©ë˜ì–´ ìˆìŠµë‹ˆë‹¤. Proguard ì ìš© ì‹œ NAS SDKëŠ” ì œì™¸ì‹œì¼œì•¼ ì •ìƒ ì‘ë™í•©ë‹ˆë‹¤.
    > ```
    > # NAS SDK Proguard
    > -dontwarn com.nextapps.naswall.**
    > -keep class com.nextapps.naswall.** {
    >     *;
    > }
    > ```

- AndroidManifest.xml ì„¤ì •
    > AndroidManifest.xml ì— ë‹¤ìŒ ê¶Œí•œì„ ì¶”ê°€í•©ë‹ˆë‹¤.
    > ```
    > <uses-permission android:name="android.permission.INTERNET"/>
    > <uses-permission android:name="android.permission.READ_PHONE_STATE"/>
    > <uses-permission android:name="android.permission.ACCESS_WIFI_STATE"/>
    > <uses-permission android:name="android.permission.GET_ACCOUNTS" />
    > ```

    > í”„ë¡œì íŠ¸ì˜ Target SDKë¥¼ 23(Android 6.0) ì´ìƒìœ¼ë¡œ ì§€ì • í•œ ê²½ìš°, ì‚¬ìš©ìê°€ ìœ„ì˜ ê¶Œí•œì„ í—ˆê°€í•˜ì§€ ì•Šìœ¼ë©´ ì˜¤í¼ì›”ì´ ì •ìƒì ìœ¼ë¡œ ì‘ë™í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    ì•ˆë“œë¡œì´ë“œ 6.0 ì´ìƒì—ì„œëŠ” ì˜¤í¼ì›”ì„ ì‚¬ìš©í•˜ê¸°ì „ì— ìœ„ì˜ ê¶Œí•œë“¤ì´ ëª¨ë‘ í—ˆìš©ë˜ì–´ ìˆëŠ”ì§€ ë¨¼ì € í™•ì¸ í›„ ì‚¬ìš©í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤. ë§Œì•½ ê¶Œí•œì´ ì—†ë‹¤ë©´ ì‚¬ìš©ìì—ê²Œ ê¶Œí•œ ìš”ì²­ì„ í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.
    ì‚¬ìš©ìì—ê²Œ ê¶Œí•œì„ ìš”ì²­í•˜ëŠ” ë°©ë²•ì€ ë‹¤ìŒ [ê³µì‹ ë¬¸ì„œ](http://developer.android.com/intl/ko/training/permissions/requesting.html) ë¥¼ ì°¸ê³ í•˜ì„¸ìš”.

    > `AndroidManifest.xml`ì— `ì•± Key`ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤. `[APP_KEY]`ë¶€ë¶„ì„ ì•± ë“±ë¡ í›„ ë°›ì€ 32ìë¦¬ í‚¤ë¡œ ëŒ€ì²´í•©ë‹ˆë‹¤.
    > ```
    > <meta-data android:name="naswall_app_key" android:value="[APP_KEY]" />
    > ```

    > `AndroidManifest.xml` ì˜ `application` ì— ë‹¤ìŒ ì •ë³´ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.
    > ```
    > <activity android:name="com.nextapps.naswall.NASWallBrowser" android:configChanges="keyboardHidden|orientation|screenSize">
    >     <intent-filter>
    >        <action android:name="android.intent.action.VIEW"/>
    >        <category android:name="android.intent.category.DEFAULT"/>
    >        <category android:name="android.intent.category.BROWSABLE" />
    >     </intent-filter>
    > </activity>
    > 
    > <activity android:name="com.nextapps.naswall.NASWall" android:configChanges="keyboardHidden|orientation" />
    > ```

### `ì´ˆê¸°í™”`
ì•± ì‹¤í–‰ ë¶€ë¶„ì— `ì´ˆê¸°í™” í•¨ìˆ˜`ë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤.

`testMode`ëŠ” ê°œë°œ í…ŒìŠ¤íŠ¸ ë²„ì „ì¸ ê²½ìš°ì—ë§Œ `true` ë¥¼ ì…ë ¥í•˜ê³ , ë°°í¬ ë²„ì „ì—ì„œëŠ” `false` ë¥¼ ì…ë ¥í•©ë‹ˆë‹¤.

- ***ê°œë°œì ì„œë²„ì—ì„œ ì ë¦½ê¸ˆ ê´€ë¦¬ ì‹œ ì‚¬ìš©***
    ```
    void Start ()
    {
        bool testMode = false;
        Nas.Plugin.Instance.init(testMode, _handlerName);
    }
    ```
 
- ***NAS ì„œë²„ì—ì„œ ì ë¦½ê¸ˆ ê´€ë¦¬ ì‹œ ì‚¬ìš©***
    > `ì‚¬ìš©ì ID`ëŠ” ì‚¬ìš©ìë¥¼ êµ¬ë¶„í•˜ê¸° ìœ„í•œ ê³ ìœ ê°’ì…ë‹ˆë‹¤. NAS ì„œë²„ì—ì„œ `ì‚¬ìš©ì ID` ë³„ë¡œ ì ë¦½ê¸ˆì´ ìŒ“ì´ê¸° ë•Œë¬¸ì— ì‚¬ìš©ìë³„ë¡œ ê³ ìœ í•œ ê°’ì„ ì…ë ¥í•´ì•¼í•©ë‹ˆë‹¤.
    ```
    void Start ()
    {
        bool testMode = false;
        string userId = "ì‚¬ìš©ì ID";
        Nas.Plugin.Instance.init(testMode, userId, _handlerName);
    }
    ```

### `ì˜¤í¼ì›” ë„ìš°ê¸°`
ì˜¤í¼ì›”ì„ ë³´ì—¬ì£¼ê³ ì í•˜ëŠ” ë¶€ë¶„ì— ë‹¤ìŒ ì½”ë“œë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.

- ***ê°œë°œì ì„œë²„ì—ì„œ ì ë¦½ê¸ˆ ê´€ë¦¬ ì‹œ ì‚¬ìš©***
    > `USER_DATA`ì— ê°œë°œìê°€ ì‚¬ìš©ìë¥¼ êµ¬ë¶„í•˜ê¸° ìœ„í•œ ê°’ì„ ì…ë ¥í•©ë‹ˆë‹¤. ê´‘ê³  ì°¸ì—¬ ì™„ë£Œ í›„ ê°œë°œì ì„œë²„ë¡œ `ì½œë°± URL` í˜¸ì¶œ ì‹œ. `[USER_DATA]` íŒŒë¼ë©”í„°ë¡œ ì „ë‹¬ë©ë‹ˆë‹¤. 

- ***NAS ì„œë²„ì—ì„œ ì ë¦½ê¸ˆ ê´€ë¦¬ ì‹œ ì‚¬ìš©***
    > `USER_DATA`ì— `ì´ˆê¸°í™” í•¨ìˆ˜` í˜¸ì¶œ ì‹œ ì‚¬ìš©í•œ `userId`ë¥¼ ì…ë ¥í•©ë‹ˆë‹¤.

```
string userData = "USER_DATA";
Nas.Plugin.Instance.open(userData);
```

***íƒ€ê²ŸíŒ… ê´‘ê³  ë…¸ì¶œ ë°©ë²•***
    
ê¸°ë³¸ì ìœ¼ë¡œ ì˜¤í¼ì›”ì—ëŠ” íƒ€ê²ŸíŒ… ê´‘ê³ ëŠ” ë…¸ì¶œë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
ì‚¬ìš©ìì˜ `ì—°ë ¹` ë˜ëŠ” `ì„±ë³„` ì •ë³´ê°€ ìˆëŠ” ê²½ìš°, ì•„ë˜ì™€ ê°™ì€ ë°©ë²•ìœ¼ë¡œ íƒ€ê²ŸíŒ… ê´‘ê³ ë¥¼ ë…¸ì¶œì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```
string userData = "USER_DATA";
int age = 10; // ì—°ë ¹ (ì—°ë ¹ ì •ë³´ê°€ ì—†ì„ ê²½ìš° 0 ìœ¼ë¡œ ì„¤ì •)
Nas.SEX sex = Nas.SEX.SEX_MALE; // ì„±ë³„ (SEX_UNKNOWN=ì„±ë³„ì •ë³´ì—†ìŒ, SEX_MALE=ë‚¨ì, SEX_FEMALE=ì—¬ì)
Nas.Plugin.Instance.open(userData, age, sex);
```

### `ì ë¦½ê¸ˆ ì¡°íšŒ` _(NAS ì„œë²„ì—ì„œ ì ë¦½ê¸ˆ ê´€ë¦¬ ì‹œ ì‚¬ìš©)_
`getUserPoint` í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì—¬ ì‚¬ìš©ì ì ë¦½ê¸ˆì„ ì¡°íšŒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

- ì„±ê³µ ì‹œ `OnUserPointSuccess(int point, string unit)` ì´ë²¤íŠ¸ê°€ ë°œìƒí•©ë‹ˆë‹¤.
    - `point` : ì ë¦½ ê¸ˆì•¡
    - `unit` : ì ë¦½ ê¸ˆì•¡ ë‹¨ìœ„

- ì‹¤íŒ¨ ì‹œ `OnUserPointError(int code)` ì´ë²¤íŠ¸ê°€ ë°œìƒí•©ë‹ˆë‹¤.
    - `code` : ì˜¤ë¥˜ ì½”ë“œ

```
Nas.Plugin.Instance.getUserPoint();
```

### `ì ë¦½ê¸ˆ ì‚¬ìš© (ì•„ì´í…œ êµ¬ë§¤)` _(NAS ì„œë²„ì—ì„œ ì ë¦½ê¸ˆ ê´€ë¦¬ ì‹œ ì‚¬ìš©)_
`Nas.Plugin.Instance.purchaseItem(string itemId)` í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì—¬ ì•„ì´í…œì„ êµ¬ë§¤í•˜ê³  ì‚¬ìš©ì ì ë¦½ê¸ˆì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

`Nas.Plugin.Instance.purchaseItem(string itemId, int purchaseCount)` í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©´ êµ¬ë§¤ ìˆ˜ëŸ‰ì„ ì§€ì •í•˜ì—¬ êµ¬ë§¤í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

- ì„±ê³µ ì‹œ `OnPurchaseItemSuccess(string itemId, int purchaseCount, int point, string unit)` ì´ë²¤íŠ¸ê°€ ë°œìƒí•©ë‹ˆë‹¤.
    - `itemId` : ì•„ì´í…œ ID
    - `purchaseCount` : êµ¬ë§¤ ìˆ˜ëŸ‰
    - `point` : êµ¬ë§¤ í›„ ë‚¨ì€ ì ë¦½ ê¸ˆì•¡
    - `unit` : ì ë¦½ ê¸ˆì•¡ ë‹¨ìœ„

- ì‹¤íŒ¨ ì‹œ `OnPurchaseItemError(string itemId, int purchaseCount, int errorCode)` ì´ë²¤íŠ¸ê°€ ë°œìƒí•©ë‹ˆë‹¤.
    - `itemId` : ì•„ì´í…œ ID
    - `purchaseCount` : êµ¬ë§¤ ìˆ˜ëŸ‰
    - `errorCode` : ì˜¤ë¥˜ ì½”ë“œ
        - `-10` : ì•±KEY ê°€ ì˜ëª»ë˜ì—ˆìŠµë‹ˆë‹¤.
        - `-11` : ì˜ëª»ëœ ì•„ì´í…œID ì…ë‹ˆë‹¤.
        - `-12` : ì˜ëª»ëœ êµ¬ë§¤ ìˆ˜ëŸ‰ ì…ë‹ˆë‹¤.
        - `ê·¸ì™¸` : ê¸°íƒ€ ì˜¤ë¥˜

- ì ë¦½ê¸ˆ ë¶€ì¡± ì‹œ `OnPurchaseItemNotEnoughPoint(string itemId, int purchaseCount)` ì´ë²¤íŠ¸ê°€ ë°œìƒí•©ë‹ˆë‹¤.
    - `itemId` : ì•„ì´í…œ ID
    - `purchaseCount` : êµ¬ë§¤ ìˆ˜ëŸ‰

```
Nas.Plugin.Instance.purchaseItem("ì•„ì´í…œì•„ì´ë””");
```

## ğŸ² ì˜ˆì œ ì ìš© ë°©ë²•
1. `Assets > Import Package > Custom Package...` ë©”ë‰´ì—ì„œ, `NASWall_Unity.unitypackage` íŒŒì¼ì„ ì„ íƒí•˜ì—¬ `Package`ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.

1. `2D Object > Sprite` ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.
    ![](img/sample_1.png)
    
1. `Inspector`ì˜ `Add Compoment`ë¥¼ í´ë¦­í•˜ì—¬, `Scripts > User Server Handler`ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤. (`NAS ì„œë²„ì—ì„œ ì ë¦½ê¸ˆì„ ê´€ë¦¬`í•˜ëŠ” ê²½ìš°ì—ëŠ” `Nas Server Handler`ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.)

1. `Inspector`ì˜ `Add Compoment`ë¥¼ í´ë¦­í•˜ì—¬, `Scripts > User Server UI Test`ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤. (`NAS ì„œë²„ì—ì„œ ì ë¦½ê¸ˆì„ ê´€ë¦¬`í•˜ëŠ” ê²½ìš°ì—ëŠ” `Nas Server UI Test`ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.)
    ![](img/sample_2.png)
    
1. `User Server Handler`, `User Server UI Test` ì˜ `Handler Name`ì„ ë™ì¼í•˜ê²Œ ì…ë ¥í•©ë‹ˆë‹¤.
    ![](img/sample_3.png)
    
1. ë¹Œë“œ í›„ ì‹¤í–‰í•©ë‹ˆë‹¤.

